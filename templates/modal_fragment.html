<!-- Modal moderno con Tailwind CSS -->
<div id="item-modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-fadeIn">
  <div id="item-modal" class="bg-white rounded-2xl w-full max-w-3xl shadow-2xl transform transition-all animate-slideUp">
    <!-- Header del Modal -->
    <div class="bg-gradient-to-r {% if tipo == 'evento' %}from-blue-500 to-indigo-600{% else %}from-green-500 to-emerald-600{% endif %} text-white px-6 py-4 rounded-t-2xl flex justify-between items-center">
      <div class="flex items-center gap-3">
        <span class="material-symbols-outlined text-3xl">{% if tipo == 'evento' %}event{% else %}task{% endif %}</span>
        <h5 class="text-xl font-bold m-0">{% if tipo == 'evento' %}Detalles del Evento{% else %}Detalles de la Tarea{% endif %}</h5>
      </div>
      <button id="modal-close" type="button" class="text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition duration-200" aria-label="Close">
        <span class="material-symbols-outlined text-2xl">close</span>
      </button>
    </div>

    <!-- Body del Modal -->
    <div class="p-6 max-h-[70vh] overflow-y-auto">
      <form id="modal-form" class="space-y-4">
        <input type="hidden" name="id" value="{{ item.id }}" />

        <!-- Nombre -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <span class="material-symbols-outlined text-sm align-middle mr-1">title</span>
            Nombre
          </label>
          <input 
            name="nombre" 
            type="text" 
            value="{{ item.nombre }}" 
            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
            readonly 
          />
        </div>

        <!-- Descripci√≥n -->
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">
            <span class="material-symbols-outlined text-sm align-middle mr-1">description</span>
            Descripci√≥n
          </label>
          <textarea 
            name="descripcion" 
            class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
            rows="3" 
            readonly
          >{{ item.descripcion or '' }}</textarea>
        </div>

        <!-- Fechas y horas en grid -->
        <div class="bg-gray-50 rounded-lg p-4 space-y-4">
          <h6 class="text-sm font-semibold text-gray-700 flex items-center">
            <span class="material-symbols-outlined text-sm mr-2">schedule</span>
            Fechas y horarios
          </h6>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Fecha inicio/l√≠mite -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Fecha</label>
              <input 
                name="fecha_evento" 
                type="date" 
                value="{{ item.fecha_evento or '' }}" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
                readonly 
              />
            </div>

            <!-- Hora -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Hora</label>
              <input 
                name="hora_evento" 
                type="time" 
                value="{{ item.hora_evento or '' }}" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
                readonly 
              />
            </div>

            <!-- Fecha fin -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Fecha fin (opcional)</label>
              <input 
                name="fecha_fin" 
                type="date" 
                value="{{ item.fecha_fin or '' }}" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
                readonly 
              />
            </div>

            <!-- Hora fin -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Hora fin (opcional)</label>
              <input 
                name="hora_fin" 
                type="time" 
                value="{{ item.hora_fin or '' }}" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" 
                readonly 
              />
            </div>
          </div>
        </div>

        <!-- Campos espec√≠ficos para tareas -->
        {% if tipo == 'tarea' %}
        <div class="bg-emerald-50 rounded-lg p-4">
          <h6 class="text-sm font-semibold text-gray-700 flex items-center mb-3">
            <span class="material-symbols-outlined text-sm mr-2">settings</span>
            Configuraci√≥n de tarea
          </h6>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Prioridad -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Prioridad</label>
              <select 
                name="prioridad" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200" 
                disabled
              >
                <option value="1" {% if item.prioridad==1 %}selected{% endif %}>üü¢ Baja</option>
                <option value="2" {% if item.prioridad==2 %}selected{% endif %}>üü° Media</option>
                <option value="3" {% if item.prioridad==3 %}selected{% endif %}>üî¥ Alta</option>
              </select>
            </div>

            <!-- Estado -->
            <div>
              <label class="block text-xs font-medium text-gray-600 mb-1">Estado</label>
              <select 
                name="estado" 
                class="w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200" 
                disabled
              >
                <option value="0" {% if item.get('estado',0)==0 %}selected{% endif %}>‚è≥ Pendiente</option>
                <option value="1" {% if item.get('estado',0)==1 %}selected{% endif %}>‚úÖ Completada</option>
              </select>
            </div>
          </div>
        </div>
        {% endif %}
      </form>
    </div>

    <!-- Footer con botones -->
    <div class="bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end gap-3 border-t border-gray-200">
      <button 
        type="button" 
        id="modal-edit" 
        class="flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition duration-200 shadow-sm"
      >
        <span class="material-symbols-outlined text-lg">edit</span>
        <span>Editar</span>
      </button>
      
      <button 
        type="button" 
        id="modal-save" 
        class="hidden flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition duration-200 shadow-sm"
      >
        <span class="material-symbols-outlined text-lg">save</span>
        <span>Guardar</span>
      </button>
      
      <button 
        type="button" 
        id="modal-cancel" 
        class="hidden flex items-center gap-2 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition duration-200"
      >
        <span class="material-symbols-outlined text-lg">cancel</span>
        <span>Cancelar</span>
      </button>
      
      <button 
        type="button" 
        id="modal-delete" 
        class="flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition duration-200 shadow-sm"
      >
        <span class="material-symbols-outlined text-lg">delete</span>
        <span>Eliminar</span>
      </button>
    </div>
  </div>
</div>

<style>
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}
</style>
